<!DOCTYPE html>

<html>

<head>
    <meta charset="utf8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <title>SQLverine authoring tool</title>

    <link rel="apple-touch-icon" sizes="57x57" href="icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="css/sql-editor.css">
    <link rel="stylesheet" href="css/verine-tableEditor.css">
</head>

<body>
    <div class="container-fluid">

        <!-- database handling -->
        <div class="row">
            <div class="col">
                <span id="" style="font-size: 1em; float: right;"><a
                        href="https://github.com/Sulkar/SQLverine-authoring-tool" target="_blank">GitHub</a> </span><br>
                <span style="float: right; display:none;"><input id="displayDebug" type="checkbox"> <label
                        for="displayDebug">debug</label></span>
                <h2 id="headerSql">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        width="2em" viewBox="0,0,436.36684,267.67784">
                        <g transform="translate(-81.81658,-66.37462)">
                            <g data-paper-data="{&quot;isPaintingLayer&quot;:true}" fill-rule="nonzero"
                                stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0"
                                style="mix-blend-mode: normal">
                                <path
                                    d="M94.15138,152.4093l124,-77.6l28,-6.4l109.6,16.8h32l39.2,20l50.4,12l30.4,41.6l8,28l-21.6,8l-29.6,-11.2h-28l-13.6,-23.2"
                                    fill="none" stroke="#000000" stroke-width="8" stroke-linecap="round" />
                                <path
                                    d="M428.55138,170.00931l-14.4,16.8l2.4,24.8l29.6,19.2l29.6,18.4l-48,3.2l-68,-37.6l-16,-54.4"
                                    fill="none" stroke="#000000" stroke-width="8" stroke-linecap="round" />
                                <path d="M227.75138,251.60931l-10.4,-18.4h-14.4l-0.8,-18.4l60.8,-24l91.2,3.2"
                                    fill="none" stroke="#000000" stroke-width="8" stroke-linecap="round" />
                                <path
                                    d="M227.75138,251.60931l-37.6,1.6l-25.6,-50.4l-2.4,36.8l-26.4,-3.2l23.2,-40.8l8,-57.6"
                                    fill="none" stroke="#000000" stroke-width="8" stroke-linecap="round" />
                                <path d="M164.55138,154.80931l-80,57.6l9.6,-60" fill="none" stroke="#000000"
                                    stroke-width="8" stroke-linecap="round" />
                                <path d="M437.35138,130.00931l4,-12l14.4,3.2l2.4,11.2" fill="none" stroke="#000000"
                                    stroke-width="8" stroke-linecap="round" />
                            </g>
                        </g>
                    </svg> SQLverine authoring tool
                </h2>

            </div>
            <div class="row">

                <div class="dbHandlingMenu">
                    <select id="selDbChooser">
                        <option value="init">Datenbank</option>
                    </select>

                    <button id="btnDbRename" class="btnDbRename d-none d-md-inline-block" data-toggle="tooltip"
                        data-placement="top" title="Rename Database">
                        Umbenennen
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.1em" height="1.1em" fill="currentColor"
                            class="bi bi-pencil" viewBox="0 0 16 16">
                            <path
                                d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                        </svg>
                    </button>


                    <label for="fileDbUpload" class="fileUpload" data-toggle="tooltip" data-placement="top"
                        title="Upload Database">
                        Datenbank Ã¶ffnen
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor"
                            class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16">
                            <path
                                d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z" />
                            <path
                                d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z" />
                        </svg>

                    </label>
                    <input id="fileDbUpload" type="file" />


                    <button id="btnDbDownload" class="btnDbDownload d-none d-md-inline-block" data-toggle="tooltip"
                        data-placement="top" title="Download Database">
                        Datenbank speichern
                        <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor"
                            class="bi bi-file-earmark-arrow-down" viewBox="0 0 16 16">
                            <path
                                d="M8.5 6.5a.5.5 0 0 0-1 0v3.793L6.354 9.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 10.293V6.5z">
                            </path>
                            <path
                                d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z">
                            </path>
                        </svg>
                    </button>


                    <button id="btnDbNew" class="btnDbNew d-none d-md-inline-block" data-toggle="tooltip"
                        data-placement="top" title="Download Database">
                        Neue Datenbank
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1.2em"
                            height="1.2em" fill="currentColor" viewBox="0,0,12,16">
                            <g transform="translate(-294,-191.02041)">
                                <g data-paper-data="{&quot;isPaintingLayer&quot;:true}" fill="slategrey"
                                    fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
                                    stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray=""
                                    stroke-dashoffset="0" style="mix-blend-mode: normal"></g>
                                <path
                                    d="M300,196.61224c0.23388,0 0.42347,0.18959 0.42347,0.42347v2.54082h2.54082c0.23388,0 0.42347,0.18959 0.42347,0.42347c0,0.23388 -0.18959,0.42347 -0.42347,0.42347h-2.54082v2.54082c0,0.23388 -0.18959,0.42347 -0.42347,0.42347c-0.23388,0 -0.42347,-0.18959 -0.42347,-0.42347v-2.54082h-2.54082c-0.23388,0 -0.42347,-0.18959 -0.42347,-0.42347c0,-0.23388 0.18959,-0.42347 0.42347,-0.42347h2.54082v-2.54082c0,-0.23388 0.18959,-0.42347 0.42347,-0.42347z" />
                                <path
                                    d="M304,207.02041h-8c-1.10457,0 -2,-0.89543 -2,-2v-12c0,-1.10457 0.89543,-2 2,-2h5.5l4.5,4.5v9.5c0,1.10457 -0.89543,2 -2,2zM301.5,192.02041h-5.5c-0.55228,0 -1,0.44772 -1,1v12c0,0.55228 0.44772,1 1,1h8c0.55228,0 1,-0.44772 1,-1v-9.5h-2c-0.82843,0 -1.5,-0.67157 -1.5,-1.5z" />
                            </g>
                        </svg>
                    </button>



                </div>
            </div>
        </div>
    </div>
    <hr>

    <div class="row">

        <div class="col-2">

            <h2>Inhalt</h2>
            <select class="form-select" id="selectExercises" size="10" aria-label="select">

            </select>
            <div class="btn-group mb-3 contentMenu">
                <button id="btnNewExercise" class="btnNewExercise btn btn-outline-secondary" data-toggle="tooltip"
                    data-placement="top" title="Neue Ãbungseinheit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" fill="currentColor"
                        class="bi bi-plus" viewBox="0 0 16 16">
                        <path
                            d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                    </svg>
                </button>
                <button id="btnDeleteExercise" class="btnDeleteExercise btn btn-outline-secondary" data-toggle="tooltip"
                    data-placement="top" title="Ãbungseinheit lÃ¶schen">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x"
                        viewBox="0 0 16 16">
                        <path
                            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                    </svg>
                </button>
                <!--buttons moveExerciseUp / Down-->
                <button id="btnMoveExerciseUp" class="btnMoveExerciseUp btn btn-outline-secondary" data-toggle="tooltip"
                    data-placement="top" title="Nach oben schieben">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-arrow-up" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z" />
                    </svg>
                </button>
                <button id="btnMoveExerciseDown" class="btnMoveExerciseDown btn btn-outline-secondary"
                    data-toggle="tooltip" data-placement="top" title="Nach unten schieben">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-arrow-down" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z" />
                    </svg>
                </button>

            </div>
        </div>
        <div class="col-10">
            <h2>Ãbungen</h2>
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <button class="nav-link active" id="nav-edit-tab" data-bs-toggle="tab" data-bs-target="#nav-edit"
                        type="button" role="tab" aria-controls="nav-edit" aria-selected="true">Editieren</button>
                    <button class="nav-link" id="nav-preview-tab" data-bs-toggle="tab" data-bs-target="#nav-preview"
                        type="button" role="tab" aria-controls="nav-preview" aria-selected="false">Vorschau</button>
                    <button class="nav-link" id="nav-tableEdit-tab" data-bs-toggle="tab" data-bs-target="#nav-tableEdit"
                        type="button" role="tab" aria-controls="nav-tableEdit" aria-selected="false">Daten
                        bearbeiten</button>
                    <button class="nav-link" id="nav-databaseStructure-tab" data-bs-toggle="tab"
                        data-bs-target="#nav-databaseStructure" type="button" role="tab"
                        aria-controls="nav-databaseStructure" aria-selected="false">Datenbank Struktur</button>

                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
                <!-- Tab: Editieren -->
                <div class="tab-pane fade show active" id="nav-edit" role="tabpanel" aria-labelledby="nav-edit-tab">
                    <div class="yes-exercise">
                        <div class="excerciseViewport">
                            <div class="row edt-row">
                                <label for="txtTitle" class="col-sm-2 col-form-label">Titel:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="txtTitle" placeholder="Titel der Ãbung">
                                </div>
                            </div>
                            <div class="row edt-row">

                                <label for="txtExerciseDescription"
                                    class="col-sm-2 col-form-label">Ãbungsbeschreibung:</label>

                                <div class="col-sm-10">
                                    <div id="txtExerciseDescription"
                                        placeholder="Das ist in dieser Ãbungseinheit zu machen...">
                                    </div>
                                </div>

                            </div>
                            <br>
                            <div class="row edt-row">

                                <label for="txtExerciseTask" class="col-sm-2 col-form-label">Aufgabenstellung:</label>

                                <div class="col-sm-10">
                                    <div id="txtExerciseTask" placeholder="...">
                                    </div>
                                </div>

                            </div>
                            <br>
                            <div class="row edt-row">
                                <label for="txtExcerciseMeta" class="col-sm-2 col-form-label">Metainformationen:</label>
                                <div class="col-sm-10">
                                    <div id="txtExcerciseMeta"
                                        placeholder="Informationen die z.B. Befehle beschreiben...">
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row edt-row">
                                <label for="txtAnswers" class="col-sm-2 col-form-label">Antwort(en):</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="txtAnswers"
                                        placeholder="Antwort1|Antwort2|Antwort3|...">
                                </div>
                            </div>
                            <div class="row edt-row">
                                <label for="txtFeedback" class="col-sm-2 col-form-label">Feedback:</label>
                                <div class="col-sm-10">
                                    <div id="txtFeedback" placeholder="Das willst du bei Erfolg ausgeben..."></div>
                                </div>
                            </div>
                        </div>
                        <br><br>
                        <div class="row">
                            <div class="col">
                                <button id="btnSaveEdit"
                                    class="btnSave btn btn-outline-success d-none d-md-inline-block"
                                    data-toggle="tooltip" data-placement="top" title="Download Database">
                                    speichern
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="no-exercise text-center" style="display: none;">
                        <h3 id="no-exercise-info"></h3>
                        <div class="row">
                            <div class="col text-center">
                                <button id="btnCreateVerineTable"
                                    class="btnCreateVerineTable btn btn-outline-success d-none d-md-inline-block"
                                    data-toggle="tooltip" data-placement="top" title="Download Database">
                                    Ãbungstabelle anlegen
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Tab: Vorschau -->
                <div class="tab-pane fade" id="nav-preview" role="tabpanel" aria-labelledby="nav-preview-tab">
                    <div class="excerciseViewport ">
                        <div class="row exerciseContentArea">
                            <h2 id="preview-title">Ãberschrift</h2>
                            <div class="exerciseDescription">
                                <div id="preview-description">
                                    Beschreibung
                                </div>

                                <div class="card border-warning col-sm-10">
                                    <div class="card-header">Aufgabe</div>
                                    <div class="card-body text-dark" id="preview-task">
                                        ...
                                    </div>
                                </div>
                                <br>
                                <div class="card border-success col-sm-10">
                                    <div class="card-header">Hilfreiche Informationen</div>
                                    <div class="card-body text-dark" id="preview-meta">
                                        ...
                                    </div>
                                </div>

                            </div>

                            <h3 style="margin-top: 1em;">Antworten</h3>
                            <div id="preview-antworten">

                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab: Daten bearbeiten -->
                <div class="tab-pane fade" id="nav-tableEdit" role="tabpanel" aria-labelledby="nav-tableEdit-tab">
                    <select id="selTableChooser">
                        <option value="init">Tabelle</option>
                    </select>

                    <div class="bd-example tableFixHead verineTableEditableViewport">
                        <table class="table table-hover verineTableEditable">

                        </table>
                    </div>

                    <button id="btnAddRow" class="btnSave btn btn btn-outline-primary d-none d-md-inline-block"
                        data-toggle="tooltip" data-placement="top" title="Download Database">
                        neue Zeile
                    </button>

                    <button id="btnSaveData" class="btnSave btn btn-outline-success d-none d-md-inline-block"
                        data-toggle="tooltip" data-placement="top" title="Download Database">
                        Daten speichern
                    </button>

                    <button id="btnAddCsvData" class="btnAddCsvData btn btn-outline-success d-none d-md-inline-block"
                        data-toggle="tooltip" data-placement="top" title="Download Database">
                        CSV Daten importieren
                    </button>
                </div>

                <!-- Tab: Datenbank Struktur -->
                <div class="tab-pane fade" id="nav-databaseStructure" role="tabpanel"
                    aria-labelledby="nav-databaseStructure-tab">
                    <div class="bd-example">
                        <p>Hier kÃ¶nnen SQL Befehle direkt auf die ausgewÃ¤hlte Datenbank ausgefÃ¼hrt werden:</p>
                        <span id="spanBtnCreate" class="spanBtn">Create Table</span>&nbsp;-&nbsp;<span
                            id="spanBtnInsert" class="spanBtn">Insert Data</span>&nbsp;-&nbsp;<span id="spanBtnUpdate"
                            class="spanBtn">Update Data</span>&nbsp;-&nbsp;<span id="spanBtnDelete"
                            class="spanBtn">Delete Data</span>&nbsp;-&nbsp;<span id="spanBtnDeleteTable" class="spanBtn">Delete Table</span>
                        <textarea id="txtDirectSql" rows="10" style="width: 100%;" placeholder=""></textarea>
                    </div>

                    <button id="btnDirectSql" class="btnDirectSql btn btn-outline-success d-none d-md-inline-block"
                        data-toggle="tooltip" data-placement="top" title="Download Database">
                        SQL ausfÃ¼hren
                    </button>

                    <div class="bd-example">
                        <p>Ausgabe:</p>
                        <textarea id="txtQueryResult" rows="10" style="width: 100%; display: none;"
                            placeholder=""></textarea>
                        <div id="divQueryResult" style="display: none;"></div>
                    </div>


                </div>

            </div>


        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="universal-modal" tabindex="-1" aria-labelledby="universal-modal-label"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="universal-modal-label">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal large -->
    <div class="modal fade" id="universal-modal-large" tabindex="-1" aria-labelledby="universal-modal-label"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="universal-modal-label">Daten im CSV Format in aktuelle Tabelle <span
                            id="modal-title-table" style='color:red;'></span> einfÃ¼gen</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

                </div>
                <div class="modal-body">

                    <p>CSV Trennzeichen: <input type='text' id='inputCsvDelimiter' style='width:80px;' value=',' placeholder=", ; | \t">
                        CSV-Spalten ignorieren: <input type='text' id='inputCsvIgnoreColumns' style='width:80px;'
                            placeholder='1, 2, ...'></p>
                    <hr>
                    <div style="overflow: auto;">
                        <table id="columnTable" class="table"></table>
                    </div>
                    <textarea rows='10' type='text' id='txtAreaCsvData' class='form-control input-check' aria-label=''
                        aria-describedby='' value='" + CURRENT_VERINE_DATABASE.name + "'></textarea>
                    <div id="modal-error" style="color: red;"></div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">abbrechen</button>
                    <button type="button" id="btnInserCSV" class="btn btn-primary">Daten einfÃ¼gen</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
        </script>

    <script type="text/javascript" src="js/he.js"></script>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <script src="dist/sql-wasm.js"></script>

    <script type="text/javascript" src="js/VerineDatabase.js"></script>
    <script type="text/javascript" src="js/verine-tableEditor.js"></script>
    <script type="text/javascript" src="js/verineAuthoringTool.js"></script>



</body>

</html>